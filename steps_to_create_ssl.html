<!--
title: custom Crts
description: 
published: true
date: 2026-01-25T17:40:44.913Z
tags: 
editor: ckeditor
dateCreated: 2026-01-25T17:14:44.674Z
-->

<h3>To create a CA to self-sign other certificates</h3>
<ol>
  <li>Define the certificate authority name</li>
</ol>
<pre><code class="language-plaintext">CANAME="MY-ORG"</code></pre>
<p>&nbsp; 2. create a private key for the CA</p>
<pre><code class="language-plaintext">openssl genrsa -aes256 -out $CANAME.key 4096</code></pre>
<ul>
  <li>&nbsp;Must add a passphrase to that key, this file contain both key pairs in the same file</li>
  <li>to see the public key use:</li>
</ul>
<pre><code class="language-plaintext">openssl rsa -in &lt;file.key&gt; -pubout</code></pre>
<p>&nbsp; 3. create a root certificate for CA&nbsp;</p>
<pre><code class="language-plaintext">openssl req -x509 -new -nodes -key &lt;file.key&gt; -sha256 -days 1826 -out ca.crt</code></pre>
<ul>
  <li>provide the data about the organization</li>
  <li>copy the root ca certificate to /usr/local/share/ca-certificates and update-ca-trust</li>
</ul>
<p>&nbsp; 4. create new private key for the new certificate&nbsp;</p>
<pre><code class="language-plaintext"> openssl req -new -nodes -out $MYCERT.csr -newkey rsa:4096 -keyout $MYCERT.key</code></pre>
<p>&nbsp; 5. create a file to add the Subject Alternative Name (SAN) to SSL certificate</p>
<pre><code class="language-plaintext">touch san.ext</code></pre>
<pre><code class="language-plaintext">authorityKeyIdentifier = keyid,issuer
basicConstraints = CA:FALSE
keyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment
subjectAltName = @alt_names

[alt_names]
DNS.1 = localhost
</code></pre>
