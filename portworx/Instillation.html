<!--
title: Instillation Environments
description: 
published: true
date: 2025-12-14T11:47:50.497Z
tags: 
editor: ckeditor
dateCreated: 2025-11-23T13:59:33.710Z
-->

<h1>Common commands</h1>
<pre><code class="language-plaintext">echo "alias pxctl='PX_POD=\$(oc get pods -l name=portworx -n portworx --field-selector=status.phase==Running | grep \"1/1\" | awk \"NR==1{print \$1}\") &amp;&amp; oc exec \$PX_POD -n portworx -- /opt/pwx/bin/pxctl'" &gt;&gt; ~/.bashrc

or kubectl  exec -it svc/portworx-service to excute the pxctl command ...

source ~/.bashrc

pxctl status --color</code></pre>
<pre><code class="language-plaintext"> kubectl label nodes node1 node2 node3 px/metadata-node=true</code></pre>
<blockquote>
  <p>&nbsp;There is a difference between the metadata device and the journal device.</p>
  <p>&nbsp;metadata device: KVDB need a separate device on PX2 or same device on PX1</p>
  <p>journal device: needs a path on any disk&nbsp;</p>
</blockquote>
<blockquote>
  <p>PX-StoreV2 data store is optimized for I/O-intensive workloads that use high-performance NVMe/ssd-class devices and <mark class="marker-yellow">does not work with hdd disks.</mark></p>
  <figure class="table">
    <table style="background-color:rgb(27, 27, 29);">
      <tbody>
        <tr>
          <td style="border-bottom:0.909091px solid rgb(96, 103, 112);border-left:0.909091px solid rgb(96, 103, 112);border-right:0.909091px solid rgb(96, 103, 112);border-top:0.909091px solid rgb(96, 103, 112);padding:12px;">DAS/SAN</td>
          <td style="border-bottom:0.909091px solid rgb(96, 103, 112);border-left:0.909091px solid rgb(96, 103, 112);border-right:0.909091px solid rgb(96, 103, 112);border-top:0.909091px solid rgb(96, 103, 112);padding:12px;">Anthos</td>
          <td style="border-bottom:0.909091px solid rgb(96, 103, 112);border-left:0.909091px solid rgb(96, 103, 112);border-right:0.909091px solid rgb(96, 103, 112);border-top:0.909091px solid rgb(96, 103, 112);padding:12px;">Preprovisioned SSD or NVMe</td>
        </tr>
        <tr>
          <td style="border-bottom:0.909091px solid rgb(96, 103, 112);border-left:0.909091px solid rgb(96, 103, 112);border-right:0.909091px solid rgb(96, 103, 112);border-top:0.909091px solid rgb(96, 103, 112);padding:12px;">&nbsp;</td>
          <td style="border-bottom:0.909091px solid rgb(96, 103, 112);border-left:0.909091px solid rgb(96, 103, 112);border-right:0.909091px solid rgb(96, 103, 112);border-top:0.909091px solid rgb(96, 103, 112);padding:12px;">OpenShift 4+</td>
          <td style="border-bottom:0.909091px solid rgb(96, 103, 112);border-left:0.909091px solid rgb(96, 103, 112);border-right:0.909091px solid rgb(96, 103, 112);border-top:0.909091px solid rgb(96, 103, 112);padding:12px;"><mark class="marker-yellow">Preprovisioned SSD or NVMe</mark></td>
        </tr>
        <tr>
          <td style="border-bottom:0.909091px solid rgb(96, 103, 112);border-left:0.909091px solid rgb(96, 103, 112);border-right:0.909091px solid rgb(96, 103, 112);border-top:0.909091px solid rgb(96, 103, 112);padding:12px;">&nbsp;</td>
          <td style="border-bottom:0.909091px solid rgb(96, 103, 112);border-left:0.909091px solid rgb(96, 103, 112);border-right:0.909091px solid rgb(96, 103, 112);border-top:0.909091px solid rgb(96, 103, 112);padding:12px;">Rancher Kubernetes Engine (RKE2)</td>
          <td style="border-bottom:0.909091px solid rgb(96, 103, 112);border-left:0.909091px solid rgb(96, 103, 112);border-right:0.909091px solid rgb(96, 103, 112);border-top:0.909091px solid rgb(96, 103, 112);padding:12px;">Preprovisioned SSD or NVMe</td>
        </tr>
      </tbody>
    </table>
  </figure>
  <p>PX-StoreV2 need a separate disk to store the metadata, unlike the V1 that can store the metadata and data in the same disk</p>
</blockquote>
<blockquote>
  <p>Portworx by Pure Storage<mark class="marker-yellow"> recommends upgrading the Portworx version prior to upgrading your OpenShift version. </mark><a href="https://docs.portworx.com/portworx-enterprise/support-matrix/operator-openshift-upgrade-path#portworx-350"><mark class="marker-yellow">url here</mark></a></p>
</blockquote>
<h1><strong>System Requirements</strong></h1>
<ul>
  <li>A Portworx cluster must include <mark class="marker-yellow">at least three nodes</mark>, each meeting specific hardware, software, and network requirements.</li>
  <li><strong>Hardware requirements</strong></li>
</ul>
<figure class="table">
  <table style="background-color:rgb(27, 27, 29);">
    <tbody>
      <tr>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Hardware</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Requirements</strong></th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">CPU</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Minimum 8 Cores | Recommended 16 Cores X1/2 for PX-storeV1</th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">RAM</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Minimum 8 GB | Recommended 16GB X1/2 for PX-storeV1</th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Disk</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">
          <ul>
            <li><code>/var</code> - Recommended 20GB Free</li>
            <li><code>/opt</code> - Minimum 20GB Free</li>
          </ul>
        </th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Backing drive</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">8GB (minimum required)<br>128GB (minimum recommended)</th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Operating system root partition</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">
          <p>64GB is the minimum required size for the root filesystem, which contains the operating system.</p>
          <p>128GB minimum recommended</p>
        </th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Storage drives</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><mark class="marker-yellow">Storage drives must be unmounted block storage</mark>: raw disks, drive partitions, LVM, multipath, or cloud block storage. &nbsp;&gt;&gt; <mark class="marker-yellow">use /dev/mapper or /dev/disk/by-id/</mark></th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Network connectivity</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">
          <p>Bandwidth:</p>
          <ul>
            <li>10 Gbps recommended</li>
            <li>1 Gbps minimum</li>
          </ul>
          <p>Latency requirements for synchronous replication:<mark class="marker-yellow"> less than 10ms between nodes in the cluster.</mark></p>
          <p>&nbsp;</p>
        </th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Node type</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Bare metal and virtual machine (VM)</th>
      </tr>
    </tbody>
  </table>
</figure>
<ul>
  <li><strong>Software requirements:</strong>
    <ul>
      <li>a supported Linux kernel version, container runtime, and key-value store configuration.</li>
      <li><mark class="marker-yellow">Swap disabled and NTP enabled</mark>, to ensure reliable and consistent cluster behavior.</li>
    </ul>
  </li>
</ul>
<figure class="table">
  <table style="background-color:rgb(27, 27, 29);">
    <tbody>
      <tr>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Software</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Requirements PX-StoreV2</strong></th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Linux kernel and distro</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">
          <p>Kernel version 4.20 or greater.<br>To check if your Linux distro and kernel are supported, see <a href="https://docs.portworx.com/portworx-enterprise/support-matrix/supported-kernels">Supported Kernels</a>.</p>
          <p>During installation, Porworx download <code>dmsetup</code>, <code>mdadm</code>, <code>lvm2</code>, <code>thin-provisioning-tools</code>, <code>augeas-tools</code> package from distribution specific repositories.</p>
          <blockquote>
            <p><code>mdadm</code> is a command-line utility for Linux that creates, manages, and monitors software RAID arrays, which combine multiple physical disks into a single logical unit</p>
          </blockquote>
          <blockquote>
            <p>Augeas is a configuration editing tool. It parses configuration files in their native formats and transforms them into a tree. Configuration changes are made by manipulating this tree and saving it back into native config files.</p>
          </blockquote>
        </th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Docker</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Version 1.13.1 or greater.</th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Key-value store</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx needs a key-value store to perform its operations. As such, install a clustered key-value database (<code>kvdb</code>) with<mark class="marker-yellow"> a three-node cluster.</mark><br><br>You can also use Internal KVDB during installation. In this mode, Portworx will create and manage an internal key-value store (KVDB) cluster.<br>&nbsp;</th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Disable swap</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Disable swap on all nodes that will run the Portworx software. Ensure that the swap device is not automatically mounted on server reboot.</th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Network Time Protocol (NTP)</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">All nodes in the cluster should be in sync with NTP time. Any time drift between nodes can cause unexpected behavior, impacting services.</th>
      </tr>
    </tbody>
  </table>
</figure>
<ul>
  <li><strong>Red Hat OpenShift:</strong>
    <ul>
      <li><strong>OpenShift version:</strong> 4.16, verified up to 4.16.50, <strong>Kubernetes version:</strong> 1.29</li>
      <li><strong>OpenShift version:</strong> 4.17, verified up to 4.17.41, <strong>Kubernetes version:</strong> 1.30</li>
      <li><strong>OpenShift version:</strong> 4.18, verified up to 4.18.27, <strong>Kubernetes version:</strong> 1.31.13</li>
      <li><strong>OpenShift version:</strong> 4.19, verified up to 4.19.17, <strong>Kubernetes version:</strong> 1.32.9</li>
      <li><strong>OpenShift version:</strong> 4.20, verified up to 4.20.1, <strong>Kubernetes version:</strong> 1.33.5</li>
    </ul>
  </li>
</ul>
<h2><strong>Network requirements</strong></h2>
<ul>
  <li>Portworx runs as a pod in a Kubernetes cluster and requires specific ports to be open for node communication, storage operations, and telemetry. These vary slightly between Kubernetes and OpenShift environments.</li>
</ul>
<h3><strong>East-to-West (Bi-directional in the same domain)</strong></h3>
<figure class="table">
  <table style="background-color:rgb(27, 27, 29);">
    <thead>
      <tr>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;"><strong>Kubernetes</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;"><strong>OpenShift</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;"><strong>Description</strong></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">9001</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">17001</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;"><mark class="marker-yellow">Portworx management port</mark> [REST]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">9002</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">17002</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;"><mark class="marker-yellow">Portworx node-to-node por</mark>t [gossip]/UDP<br><strong>Required</strong> open when using external KVDB</td>
      </tr>
      <tr>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">9003</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">17003</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;"><mark class="marker-yellow">Portworx storage data port</mark></td>
      </tr>
      <tr>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">9004</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">17004</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">Portworx namespace [RPC]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">9012</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">17009</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">Portworx node-to-node communication port [gRPC]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">9013</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">17010</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">Portworx namespace driver [gRPC]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">9014</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">17011</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">Portworx diags server port [gRPC]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">9018</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">17015</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">Portworx kvdb peer-to-peer port [gRPC]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">9019</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">17016</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">Portworx kvdb client service [gRPC]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">9020</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">17017</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">Portworx gRPC SDK server [REST]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">9021</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">17018</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">Portworx gRPC SDK gateway [REST]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">9022</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">17019</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">Portworx health monitor [REST]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">9029</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">17021</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">Telemetry log uploader</td>
      </tr>
      <tr>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">12002</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">20002</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">Telemetry phone home</td>
      </tr>
      <tr>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">2379</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">2379</td>
        <td style="border-bottom:0.727273px solid rgb(96, 103, 112);border-left:0.727273px solid rgb(96, 103, 112);border-right:0.727273px solid rgb(96, 103, 112);border-top:0.727273px solid rgb(96, 103, 112);padding:12px;">External KVDB (etcd) port<br><strong>Open only if</strong> you run an external etcd cluster</td>
      </tr>
    </tbody>
  </table>
</figure>
<h3><strong>Inbound</strong></h3>
<figure class="table">
  <table style="background-color:rgb(27, 27, 29);">
    <thead>
      <tr>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Kubernetes</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>OpenShift</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Description</strong></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">9001</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><mark class="marker-yellow">17001</mark></td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx management port [REST]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">9021</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17018</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx gRPC SDK gateway [REST]</td>
      </tr>
    </tbody>
  </table>
</figure>
<h3><strong>Outbound</strong></h3>
<figure class="table">
  <table style="background-color:rgb(27, 27, 29);">
    <thead>
      <tr>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Type</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>TCP Port(s)</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Scope</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Destination host(s)</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Description</strong></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Install / Upgrade</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">443</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">PX install &amp; version updates</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">install.portworx.com, docker.io, registry.k8s.io</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Retrieves install spec and helper scripts</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;" rowspan="2">License activation</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">443</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">PAYG licensing</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">rest.zuora.com</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Usage reporting &amp; license retrieval. Not applicable for air-gapped deployements.</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">443</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">PAYG licensing</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">flex1327.compliance.flexnetoperations.com</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">For licensing to work. Not applicable for air-gapped deployements.</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;" rowspan="6">Telemetry</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">443</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Cluster registration &amp; metrics</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">register.cloud-support.purestorage.com,<br>rest.cloud-support.purestorage.com</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Registers cluster and uploads usage metrics</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">443 / 80</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Event log uploads</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">logs-01.loggly.com</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Sends PX log events for support</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">9024</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx version 2.13.7 and older</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Telemetry components</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Telemetry data channel</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">9029</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx version 2.13.8 and newer</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Telemetry components</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Telemetry data channel</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">12001</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Collector service</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Telemetry components</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Aggregates data before upload</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">12002</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Heartbeat / phone-home</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Telemetry components</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Periodic health-check pings</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Snapshots / Backups</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">443</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">CloudSnaps, backups, restores</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Your S3 or S3-compatible endpoint</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Persist snapshots &amp; object data</td>
      </tr>
    </tbody>
  </table>
</figure>
<h2>Installation on Bare Metal</h2>
<h4>Requirments</h4>
<ol>
  <li>Dedicated disk for KVDB on at least three nodes, and each disk must has a unique device name across all the nodes at least 64 GB in size. <mark class="marker-yellow">This is for the PX2 datastore, the PX1 datastore can use the same disk as the data, but this is not recommended.</mark>
    <ul>
      <li>Persistent disks' names can be obtained by using the sym links that the <mark class="marker-yellow">udev create in /dev/disk/by-id/*</mark>. &nbsp;udev uses unique identifiers for each disk like vendor code, provisioner code, and other to create these links. or use <mark class="marker-yellow">/dev/mapper/ links to logical volumes.</mark></li>
      <li>if the nodes has different paths to the disks, use <mark class="marker-yellow">a node selector to specify the disk on each node</mark></li>
    </ul>
  </li>
</ol>
<pre><code class="language-plaintext"># SOURCE: https://install.portworx.com/3.5?operator=true&amp;mc=false&amp;kbver=1.31.13&amp;ns=portworx&amp;b=true&amp;iop=6&amp;j=auto&amp;r=17001&amp;c=px-cluster-986440bd-d2ed-407a-8ce1-888c9d3177cf&amp;osft=true&amp;stork=true&amp;csi=true&amp;aut=false&amp;tel=false&amp;st=k8s
kind: StorageCluster
apiVersion: core.libopenstorage.org/v1
metadata:
  name: px-cluster-986440bd-d2ed-407a-8ce1-888c9d3177cf
  namespace: portworx
  annotations:
    portworx.io/install-source: "https://install.portworx.com/3.5?operator=true&amp;mc=false&amp;kbver=1.31.13&amp;ns=portworx&amp;b=true&amp;iop=6&amp;j=auto&amp;r=17001&amp;c=px-cluster-986440bd-d2ed-407a-8ce1-888c9d3177cf&amp;osft=true&amp;stork=true&amp;csi=true&amp;aut=false&amp;tel=false&amp;st=k8s"
    portworx.io/is-openshift: "true"
spec:
  nodes:
  - selector:
        labelSelector:
          matchLabels:
            kubernetes.io/hostname: "master01.ocp.ea.com"
            portworx.io/node-type: "storage"
    storage:
        devices:
          - /dev/disk/by-id/wwn-0x600508b1001cf4a69efce12d1bd6da1f
  - selector:
        labelSelector:
          matchLabels:
            kubernetes.io/hostname: "master02.ocp.ea.com"
            portworx.io/node-type: "storage"
    storage:
        devices:
          - /dev/disk/by-id/wwn-0x600508b1001c68c5fcc7f282a14837e7
  - selector:
        labelSelector:
          matchLabels:
            kubernetes.io/hostname: "master03.ocp.ea.com"
            portworx.io/node-type: "storage"
    storage:
        devices:
          - /dev/disk/by-id/wwn-0x600508b1001c41a07862179c5a97fa43
  image: portworx/oci-monitor:3.5.0
  imagePullPolicy: Always
  kvdb:
    internal: true
  storage:
    useAll: true
    journalDevice: auto
  secretsProvider: k8s
  startPort: 17001
  stork:
    enabled: true
    args:
      webhook-controller: "true"
  runtimeOptions:
    default-io-profile: "6"
  csi:
    enabled: true
  monitoring:
    telemetry:
      enabled: false
    prometheus:
      exportMetrics: true</code></pre>
<p>&nbsp;</p>
<ol>
  <li>For disaggregated setup label the storage nodes and storageless nodes.<ul>
      <li>portwrox.io/node-type: storage</li>
      <li>portworx.io/node-type: storageless</li>
    </ul>
  </li>
</ol>
<h4>Non Air Gapped Bare Metal Openshfit</h4>
<ol>
  <li>Enable user workloads monitoring in openshift prometheus.</li>
</ol>
<ul>
  <li>create the <mark class="marker-yellow">cluster-monitoring-config</mark> configmap</li>
</ul>
<pre><code class="language-plaintext">apiVersion: v1
kind: ConfigMap
metadata:
  name: cluster-monitoring-config
  namespace: openshift-monitoring
data:
  config.yaml: |
    enableUserWorkload: true</code></pre>
<p>&nbsp;</p>
<ul>
  <li>The enableUserWorkload parameter enables monitoring for user-defined projects in the OpenShift cluster.</li>
  <li>This creates <mark class="marker-yellow">a prometheus-operated service in the openshift-user-workload-monitoring namespace.</mark></li>
</ul>
<p>&nbsp; 2. Generate the storageCluster spec:</p>
<ul>
  <li><mark class="marker-yellow">Platform: DAS/SAN</mark></li>
  <li><mark class="marker-yellow">It is possible to use one disk for the data and the metadata in the dev/test environments in the PX-StoreV1 by choosing the Auto option in the Journal device and check the Skip KVDB device box</mark></li>
  <li>To use TLS, portworx can deploy cert-manager if there is no default one.</li>
</ul>
<p>&nbsp; 3. Install the portworx operator</p>
<ul>
  <li><strong>Installation mode</strong> &gt; <strong>A specific namespace on the cluster</strong>.</li>
  <li><strong>Console plugin</strong> &gt; <strong>Enable</strong> to manage your Portworx cluster using the Portworx dashboard within the OpenShift console.</li>
</ul>
<pre><code class="language-plaintext">oc patch console.operator cluster --type=json -p='[{"op":"add","path":"/spec/plugins/-","value":"portworx"}]'</code></pre>
<p>&nbsp; 4. Create the storageCluster.</p>
<p>&nbsp; 5. Verify Portworx Pod Status</p>
<pre><code class="language-plaintext">oc get pods -n &lt;px-namespace&gt; -o wide | grep -e portworx -e px</code></pre>
<p>&nbsp;</p>
<blockquote>
  <p><mark class="marker-yellow">The Portworx Operator </mark>performs a<mark class="marker-yellow"> pre-flight check across the cluster, and the check must pass on each node</mark>. This check determines whether <mark class="marker-yellow">each node in the cluster is compatible with the PX-StoreV2 datastore.</mark></p>
</blockquote>
<p>&nbsp; 6. Verify Portworx Cluster Status</p>
<pre><code class="language-plaintext">oc exec &lt;px-pod-name&gt;  -n &lt;px-namespace&gt; -- /opt/pwx/bin/pxctl status</code></pre>
<p>&nbsp;</p>
<blockquote>
  <p>Status displays <code>PX is operational</code> when the cluster is running as expected. <mark class="marker-yellow">If the cluster is using the PX-StoreV2 datastore,</mark> the <code>StorageNode</code> entries for each node displays <code>Yes(PX-StoreV2)</code>.</p>
</blockquote>
<p>&nbsp; 7. Verify portworx pool status PX2</p>
<pre><code class="language-plaintext">oc exec &lt;px-pod&gt;  -n &lt;px-namespace&gt; -- /opt/pwx/bin/pxctl service pool show</code></pre>
<p>&nbsp; 8. Verify pxctl Cluster Provision Status:</p>
<pre><code class="language-plaintext">oc -n &lt;px-namespace&gt; get storagecluster
oc -n &lt;px-namespace&gt; get storagenodes
oc exec &lt;px-pod&gt; -n &lt;px-namespace&gt; -- /opt/pwx/bin/pxctl cluster provision-status</code></pre>
<ul>
  <li>If the Portworx Operator is installed but the OpenShift Console plugin is not enabled, or was previously disabled, you can re-enable it by running the following command.</li>
</ul>
<pre><code class="language-plaintext">oc patch console.operator cluster --type=json -p='[{"op":"add","path":"/spec/plugins/-","value":"portworx"}]'</code></pre>
<h4>Air Gapped Bare Metal Openshfit</h4>
<p>&nbsp; 1. Get Portworx Container Images</p>
<ul>
  <li>Set an environment variable for your Kubernetes version:</li>
</ul>
<pre><code class="language-plaintext">KBVER=$(kubectl version | awk -F'[v+_-]' '/Server/ {print $3}')</code></pre>
<p>&nbsp;</p>
<ul>
  <li>Set an environment variable to specify the latest major version of Portworx:</li>
</ul>
<pre><code class="language-plaintext">PXVER=&lt;portworx-version&gt;</code></pre>
<p>&nbsp;</p>
<ul>
  <li>Run the following command to download a list of the released images:</li>
</ul>
<pre><code class="language-plaintext">curl -o images "https://install.portworx.com/$PXVER/images?kbver=$KBVER"

docker.io/portworx/px-enterprise:3.5.0
docker.io/portworx/oci-monitor:3.5.0
docker.io/openstorage/stork:25.5.0
docker.io/openstorage/cmdexecutor:25.5.0
docker.io/portworx/autopilot:1.3.18
docker.io/portworx/cluster-diags:3.4.2
docker.io/portworx/ccm-go:1.4.30
docker.io/portworx/realtime-metrics:1.0.32
docker.io/portworx/telemetry-envoy:1.1.18
docker.io/portworx/log-upload:px-1.1.46
docker.io/portworx/px-operator:25.5.0
registry.k8s.io/pause:3.1
registry.k8s.io/kube-scheduler-amd64:v1.31.10
registry.k8s.io/kube-controller-manager-amd64:v1.31.10
docker.io/portworx/portworx-dynamic-plugin:2.0.0
docker.io/nginxinc/nginx-unprivileged:alpine-slim
registry.k8s.io/kube-scheduler-amd64:v1.21.4
registry.k8s.io/sig-storage/csi-node-driver-registrar:v2.15.0
registry.k8s.io/sig-storage/csi-provisioner:v5.3.0
registry.k8s.io/sig-storage/csi-resizer:v1.14.0
registry.k8s.io/sig-storage/csi-snapshotter:v8.3.0
registry.k8s.io/sig-storage/snapshot-controller:v8.3.0
quay.io/prometheus/prometheus:v3.7.2
quay.io/prometheus-operator/prometheus-operator:v0.86.1
quay.io/prometheus-operator/prometheus-config-reloader:v0.86.1
quay.io/prometheus/alertmanager:v0.28.1
quay.io/jetstack/cert-manager-controller:v1.17.4
quay.io/jetstack/cert-manager-webhook:v1.17.4
quay.io/jetstack/cert-manager-cainjector:v1.17.4
quay.io/jetstack/cert-manager-acmesolver:v1.17.4
</code></pre>
<ul>
  <li>On an internet-connected host that matches the architecture and OS version of the Kubernetes cluster nodes intended for Portworx installation, <mark class="marker-yellow">download the air-gapped installation bootstrap script</mark> for the Kubernetes and Portworx versions:</li>
</ul>
<pre><code class="language-plaintext">curl -o px-ag-install.sh -L "https://install.portworx.com/$PXVER/air-gapped?kbver=$KBVER"</code></pre>
<p>&nbsp;</p>
<ul>
  <li>Pull the container images for the Kubernetes and Portworx versions:</li>
</ul>
<pre><code class="language-plaintext">sh px-ag-install.sh pull</code></pre>
<p>&nbsp;</p>
<ul>
  <li>Log in to docker:</li>
</ul>
<pre><code class="language-plaintext">docker login &lt;your-private-registry&gt;</code></pre>
<p>&nbsp;</p>
<ul>
  <li>Push the container images to a private registry that is accessible to your air-gapped nodes.<mark class="marker-yellow"> Do not include </mark><code><mark class="marker-yellow">http://</mark></code><mark class="marker-yellow"> in your private registry path:</mark></li>
</ul>
<pre><code class="language-plaintext">sh px-ag-install.sh push &lt;your-registry-path&gt;/repo_name</code></pre>
<p>&nbsp; 2. Create a version manifest configmap for the Portworx Operator:</p>
<ul>
  <li>Download the Portworx version manifest:</li>
  <li>Replace <code>&lt;operator-version&gt;</code> with the Operator version you want to use.</li>
</ul>
<pre><code class="language-plaintext">curl -o versions.yaml "https://install.portworx.com/$PXVER/version?kbver=$KBVER&amp;opver=&lt;operator-version&gt;"</code></pre>
<p>&nbsp;</p>
<ul>
  <li>Update the <a href="https://install.portworx.com/2.13/version">version manifest</a> with the custom registry location details. (optional portworx operator will use the custom registry from the storageCluster by defualt). If not ensure that the <strong>Custom Container Registry Location</strong> field in the <strong>Customize</strong> tab of <a href="https://central.portworx.com/">Portworx Central</a> is empty for any specs you generate in the spec generator.</li>
</ul>
<pre><code class="language-plaintext">&lt;dns-host.domain or IPv4 or IPv6&gt;[:&lt;port&gt;]/repository/image:tag</code></pre>
<p>&nbsp;</p>
<pre><code class="language-plaintext">version: 2.13.3
components:
  stork: custom-registry.acme.org/portworx/backup/stork:23.2.1
  autopilot: 192.168.1.2:5433/tools/autopilot:1.3.7
  nodeWiper: [2001:db8:3333:4444:5555:6666:7777:8888]:5443/portworx/px-node-wiper:2.13.2</code></pre>
<p>&nbsp;</p>
<ul>
  <li>Create a configmap from the downloaded or updated version manifest in the namespace <code>&lt;px-namespace&gt;</code>,</li>
</ul>
<pre><code class="language-plaintext">kubectl -n &lt;px-namespace&gt; create configmap px-versions --from-file=versions.yaml</code></pre>
<p>&nbsp; 3.<mark class="marker-yellow"> install the NFS package:</mark></p>
<ul>
  <li>Start the repository container as a standalone service in Docker by running the following command:</li>
</ul>
<pre><code class="language-plaintext">docker run -p 8080:8080 docker.io/portworx/px-repo:1.2.0</code></pre>
<p>&nbsp;</p>
<ul>
  <li>navigate to your host IP address where the above docker image is running</li>
</ul>
<p>&nbsp; 4. enable monitoring</p>
<p>&nbsp; 5. generate the StorageCluster spec:</p>
<ul>
  <li>Platform: DAS/SAN</li>
  <li>Enter the <strong>Custom Container Registry Location</strong> to download the Docker images.</li>
</ul>
<pre><code class="language-plaintext">oc -n portworx create secret docker-registry px-image-repository \
    --docker-server=image-registry.openshift-image-registry.svc:5000 \
    --docker-username=admin \
    --docker-password=$(oc whoami -t) &gt;&gt; to return the token from kubeconfig file</code></pre>
<p>&nbsp; 6. complete the steps from Non air gapped installation.</p>
<h2><strong>Installation on VMware vSphere</strong></h2>
<ul>
  <li>Notes:<ul>
      <li>Portworx runs on each Kubernetes<mark class="marker-yellow"> minion/worker.</mark></li>
      <li>Based on the given spec by the end user, <mark class="marker-yellow">Portworx on each node will create its disk on the configured shared datastores or datastore clusters.</mark></li>
      <li>Portworx will <mark class="marker-yellow">aggregate all of the disks and form a single storage cluster. </mark>End users can carve PVCs (Persistent Volume Claims), PVs (Persistent Volumes) and Snapshots from this storage cluster.</li>
      <li>Portworx<mark class="marker-yellow"> tracks and manages the disks that it creates</mark>. In a failure event, if a new VM spins up, Portworx on the new VM will be able to attach to the same disk that was previously created by the node on the failed VM.</li>
    </ul>
  </li>
</ul>
<figure class="image image_resized" style="width:100%;"><img src="/pks-vsphere-shared-1325efc1c1d548f5ab045886f9c5bc4b.png"></figure>
<h3><strong>Prerequisites</strong></h3>
<ol>
  <li>Use one of the following<mark class="marker-yellow"> disk types:</mark>
    <ul>
      <li>eagerzeroedthick</li>
      <li>lazyzeroedthick</li>
      <li>thin</li>
    </ul>
  </li>
  <li>Allocate<mark class="marker-yellow"> a dedicated disk for KVDB</mark> (internal or external) on<mark class="marker-yellow"> at least three nodes</mark>. Each disk must have<mark class="marker-yellow"> a unique device name across all KVDB nodes.&nbsp;</mark></li>
  <li>Any underlying nodes used for Portworx in OCP have <mark class="marker-yellow">Secure Boot disabled.</mark></li>
  <li><a href="https://docs.redhat.com/en/documentation/openshift_container_platform/4.18/html/registry/securing-exposing-registry">For air-gapped installation, your OpenShift cluster must temporarily have its internal registry reachable externally to the cluster</a></li>
  <li>For air-gapped installation, you must have a Linux host with internet access that has either <a href="https://docs.podman.io/">Podman</a> or Docker installed to run the mirroring script.</li>
</ol>
<blockquote>
  <p><strong>Prevent Accidental Deletion</strong>: If your virtualization software has a feature to prevent accidental deletion, you should enable it for the VMs hosting PX nodes. While PX is designed to handle the loss of some nodes without issue, losing a significant number of storage nodes due to VM deletion can result in a loss of quorum and an outage.</p>
</blockquote>
<h3><strong>Installation on Non-Air-Gapped vSphere OpenShift Cluster</strong></h3>
<ol>
  <li><strong>Create a Monitoring ConfigMap:</strong></li>
</ol>
<ul>
  <li>Enable monitoring for user-defined projects before installing the Portworx Operator</li>
</ul>
<pre><code class="language-plaintext">kind: ConfigMap
metadata:
  name: cluster-monitoring-config
  namespace: openshift-monitoring
data:
  config.yaml: |
    enableUserWorkload: true</code></pre>
<p>&nbsp;2. fetch the Thanos host</p>
<pre><code class="language-plaintext">oc get route thanos-querier -n openshift-monitoring -o json | jq -r '.spec.host'</code></pre>
<p>3. This cloud be the configuration of the storageCluster:</p>
<pre><code class="language-plaintext">spec:
  monitoring:
    prometheus:
      enabled: false
      exportMetrics: true
      alertManager:
        enabled: false</code></pre>
<p>&nbsp;</p>
<blockquote>
  <p>This creates a <code>prometheus-operated</code> service in the <code>openshift-user-workload-monitoring</code> namespace.</p>
</blockquote>
<p>&nbsp; &nbsp;2. <strong>Configure Storage DRS settings:</strong></p>
<ul>
  <li>Portworx does not support moving VMDK files from the datastores where they were originally created.<ul>
      <li>From the <strong>Storage DRS automation</strong> tab, choose the <strong>No Automation (Manual Mode)</strong> option for all</li>
      <li>From the <strong>Runtime Settings</strong> tab, clear the <strong>Enable I/O metric for SDRS recommendations</strong> checkbox.</li>
      <li>From the <strong>Advanced options</strong> tab, clear the <strong>Keep VMDKs together by default</strong> checkbox.</li>
    </ul>
  </li>
</ul>
<p>&nbsp; 3. <strong>Create a vCenter user account for Portworx:</strong></p>
<ul>
  <li>Datastore<ul>
      <li>Allocate space</li>
      <li>Browse datastore</li>
      <li>Low level file operations</li>
      <li>Remove file</li>
    </ul>
  </li>
  <li>Host<ul>
      <li>Local operations</li>
      <li>Reconfigure virtual machine</li>
      <li>Virtual machine</li>
    </ul>
  </li>
  <li>Change Configuration<ul>
      <li>Add existing disk</li>
      <li>Add new disk</li>
      <li>Add or remove device</li>
      <li>Advanced configuration</li>
      <li>Change Settings</li>
      <li>Extend virtual disk</li>
      <li>Modify device settings</li>
      <li>Remove disk</li>
    </ul>
  </li>
</ul>
<blockquote>
  <p>In vSphere, resources are organized hierarchically. Select<mark class="marker-yellow"> <strong>Propagate to children</strong></mark> to ensure that the permissions granted to the custom role are automatically applied not just to the targeted object, but also to all objects within its sub-tree. This includes VMs, datastores, networks, and other resources nested under the selected resource.</p>
</blockquote>
<p>&nbsp; 4. <strong>Create a secret with your vCenter user credentials:</strong></p>
<pre><code class="language-plaintext">
VSPHERE_USER: echo '&lt;vcenter-server-user&gt;' | base64
VSPHERE_PASSWORD: echo '&lt;vcenter-server-password&gt;' | base64</code></pre>
<p>&nbsp;</p>
<pre><code class="language-plaintext">apiVersion: v1
kind: Secret
metadata:
  name: px-vsphere-secret
  namespace: &lt;px-namespace&gt;
type: Opaque
data:
  VSPHERE_USER: XXXX
  VSPHERE_PASSWORD: XXXX</code></pre>
<p>&nbsp;</p>
<blockquote>
  <p>🙅‍♂️ Ensure that the ports 17001-17020 on worker nodes are reachable from the control plane node and other worker nodes.</p>
</blockquote>
<p>&nbsp; 5. &nbsp;<strong>Generate Portworx Specification @ </strong><a href="https://central.portworx.com/"><u>https://central.portworx.com/</u></a></p>
<ul>
  <li>Spec Customization:<ul>
      <li><strong>Basic tab:</strong>
        <ol>
          <li>To use an existing etcd cluster, do the following:<ol>
              <li>Select the <strong>Your etcd details</strong> option.</li>
              <li>In the field provided, enter the host name or IP and port number. For example, <code>http://test.com.net:1234</code>.<br>To add another etcd cluster, click the <strong>+</strong> icon.</li>
              <li>You can add up to three etcd clusters.</li>
              <li>Select one of the following authentication methods:<ul>
                  <li><strong>Disable HTTPS</strong> – To use HTTP for etcd communication.</li>
                  <li><strong>Certificate Auth</strong> – To use HTTPS with an SSL certificate.<br>For more information, see <a href="https://docs.portworx.com/portworx-enterprise/operations/kvdb-for-portworx/external-kvdb#secure-your-etcd-communication">Secure your etcd communication</a>.</li>
                  <li><strong>Password Auth</strong> – To use HTTPS with username and password authentication.</li>
                </ul>
              </li>
            </ol>
          </li>
          <li>To use an internal Portworx-managed key-value store (kvdb), do the following:<ol>
              <li>Select the <strong>Built-in</strong> option.</li>
              <li>To enable TLS encrypted communication among KVDB nodes and between Portworx nodes and the KVDB cluster, select the <strong>Enable TLS for internal kvdb</strong> checkbox.</li>
              <li>If your cluster does not already have a cert-manager, select the <strong>Deploy Cert-Manager for TLS certificates</strong> checkbox.</li>
              <li>Select <strong>Next</strong>.</li>
            </ol>
          </li>
        </ol>
      </li>
      <li><strong>Storage tab:</strong>
        <ol>
          <li>To enable Portworx to provision drives using a specification, do the following:<ol>
              <li>Select the <strong>Create Using a Spec</strong> option.</li>
              <li><strong>Select PX-Store Version</strong>: (Optional) To designate <strong>PX-StoreV1</strong> as the datastore, select&nbsp;PX-StoreV1. By <strong>default</strong>, the system selects <strong>PX-StoreV2</strong> as the datastore.</li>
              <li>To add one or more storage drive types for Portworx to use, click <strong>+ Add Drive</strong> and select one of the following types of drives:<ul>
                  <li>Lazy-Zeroed Thick</li>
                  <li>Eager-Zeroed Thick</li>
                  <li>Thin</li>
                </ul>
              </li>
              <li>Configure the following fields for the drive:<ul>
                  <li><strong>Size (GB)</strong> - Specify the size of the drive in gigabytes.</li>
                  <li><strong>Action</strong> - Use the trash icon to remove a drive type from the configuration.</li>
                </ul>
              </li>
              <li>(Optional) To add more storage drives, click one of the following options based on the drive type:<ul>
                  <li><strong>+ Add Lazy-Zeroed Thick Drives</strong></li>
                  <li><strong>+ Add Eager-Zeroed Thick Drives</strong></li>
                  <li><strong>+ Add Thin Drives</strong></li>
                </ul>
              </li>
              <li><strong>Initial Storage Nodes (Optional)</strong>:&nbsp;Enter the number of storage nodes that need to be created across zones and node pools.</li>
              <li>From the <strong>Default IO Profile</strong> dropdown menu, select <strong>Auto</strong>.<br>This enables Portworx to automatically choose the best I/O profile based on detected workload patterns.</li>
              <li>From the <strong>Journal Device</strong> dropdown menu, select one of the following:<ul>
                  <li><strong>None</strong> – To use the default journaling setting.</li>
                  <li><strong>Auto</strong> – To automatically allocate journal devices.</li>
                  <li><strong>Custom</strong> – To manually choose a volume type for the journal device.</li>
                </ul>
              </li>
            </ol>
          </li>
          <li>To enable Portworx to use all available, unused, and unmounted drives on the node, do the following:<ol>
              <li>Select the <strong>Consume Unused</strong> option.</li>
              <li>(Optional) To designate <strong>PX-StoreV1</strong> as the datastore, clear the&nbsp;<strong>PX-StoreV2</strong>&nbsp;checkbox. By default, the system selects <strong>PX-StoreV2</strong> as the datastore.</li>
              <li>For <strong>PX-StoreV2</strong>, in the <strong>Metadata Path</strong> field, enter a pre-provisioned path for storing the Portworx metadata.<br>The path must be at least 64 GB in size.</li>
              <li>From the <strong>Journal Device</strong> dropdown menu, select one of the following:<ul>
                  <li><strong>None</strong> – To use the default journaling setting.</li>
                  <li><strong>Auto</strong> – To automatically allocate journal devices.</li>
                  <li><strong>Custom</strong> – To manually enter a journal device path.<br>Enter the path of the journal device in the <strong>Journal Device Path</strong> field.</li>
                </ul>
              </li>
              <li>Select the <strong>Use unmounted disks even if they have a partition or filesystem on it. Portworx will never use a drive or partition that is mounted</strong> checkbox to use unmounted disks, even if they contain a partition or filesystem.<br>Portworx will not use any mounted drive or partition.</li>
            </ol>
          </li>
          <li><mark class="marker-yellow">To enable Portworx to use existing drives on a node, do the following:</mark>
            <ol>
              <li>Select the <strong>Use Existing Drives</strong> option.</li>
              <li>(Optional) To designate <strong>PX-StoreV1</strong> as the datastore, clear the&nbsp;<strong>PX-StoreV2</strong>&nbsp;checkbox. By default, the system selects <strong>PX-StoreV2</strong> as the datastore.</li>
              <li>For <strong>PX-StoreV2</strong>, in the <strong>Metadata Path</strong> field, enter a pre-provisioned path for storing the Portworx metadata.<br>The path must be at least 64 GB in size.</li>
              <li>In the <strong>Drive/Device</strong> field, specify the block drive(s) that Portworx uses for data storage.<br>To add another block drive, click the <strong>+</strong> icon.</li>
              <li>(Optional) In the <strong>Pool Label</strong> field, assign a custom label in key:value format to identify and categorize storage pools.<br>For more information refer to <a href="https://docs.portworx.com/portworx-enterprise/how-to-guides/custom-pool-label">How to assign custom labels to device pools</a>.</li>
              <li>From the <strong>Journal Device</strong> dropdown menu, select one of the following:<ul>
                  <li><strong>None</strong> – To use the default journaling setting.</li>
                  <li><strong>Auto</strong> – To automatically allocate journal devices.</li>
                  <li><strong>Custom</strong> – To manually enter a journal device path.<br>Enter the path of the journal device in the <strong>Journal Device Path</strong> field.</li>
                </ul>
              </li>
            </ol>
          </li>
          <li>Select <strong>Next</strong>.</li>
        </ol>
      </li>
      <li><strong>Network tab:</strong>
        <ol>
          <li>In the <strong>Interface(s)</strong> section, do the following:<ol>
              <li>Enter the <strong>Data Network Interface</strong> to be used for data traffic.</li>
              <li>Enter the <strong>Management Network Interface</strong> to be used for management traffic.</li>
            </ol>
          </li>
          <li>In the <strong>Advanced Settings</strong> section, do the following:<ol>
              <li>Enter the <strong>Starting port for Portworx services</strong>.</li>
            </ol>
          </li>
          <li>Select <strong>Next</strong>.</li>
        </ol>
      </li>
      <li><strong>Deployment tab:</strong>
        <ol>
          <li>In the <strong>Kubernetes Distribution</strong> section, under <strong>Are you running on either of these?</strong>, select <strong>Openshift 4+</strong>.</li>
          <li>In the <strong>Component Settings</strong> section:<ol>
              <li>Select the <strong>Enable Stork</strong> checkbox to enable Stork.</li>
              <li>Select the <strong>Enable Monitoring</strong> checkbox to enable Prometheus-based monitoring of Portworx components and resources.</li>
              <li>To configure how Prometheus is deployed and managed in your cluster, choose one of the following:<ul>
                  <li><strong>Portworx Managed</strong> - To enable Portworx to install and manage Prometheus and Operator automatically.<br>Ensure that no another Prometheus Operator instance already running on the cluster.</li>
                  <li><strong>User Managed</strong> - To manage your own Prometheus stack.<br>You must enter a valid URL of the Prometheus instance in the <strong>Prometheus URL</strong> field.</li>
                </ul>
              </li>
              <li>Select the <strong>Enable Autopilot</strong> checkbox to enable Portworx Autopilot.</li>
              <li>Select the <strong>Enable Telemetry</strong> checkbox to enable telemetry in the StorageCluster spec.</li>
              <li>Enter the prefix for the Portworx cluster name in the <strong>Cluster Name Prefix</strong> field.</li>
              <li>Select the <strong>Secrets Store Type</strong> from the dropdown menu to store and manage secure information for features such as CloudSnaps and Encryption.</li>
            </ol>
          </li>
          <li>In the <strong>Environment Variables</strong> section, enter name-value pairs in the respective fields.</li>
          <li>In the <strong>Registry and Image Settings</strong> section:<ol>
              <li>Enter the <strong>Custom Container Registry Location</strong> to download the Docker images.</li>
              <li>Enter the <strong>Kubernetes Docker Registry Secret</strong> that serves as the authentication to access the custom container registry.</li>
              <li>From the <strong>Image Pull Policy</strong> dropdown menu, select <strong>Default</strong>, <strong>Always</strong>, <strong>IfNotPresent</strong>, or <strong>Never</strong>.<br>This policy influences how images are managed on the node and when updates are applied.</li>
            </ol>
          </li>
          <li>In the <strong>Security Settings</strong> section, select the <strong>Enable Authorization</strong> checkbox to enable Role-Based Access Control (RBAC) and secure access to storage resources in your cluster.</li>
          <li>Click <strong>Finish</strong>.</li>
          <li>In the summary page, enter a name for the specification in the <strong>Spec Name</strong> field, and tags in the <strong>Spec Tags</strong> field.</li>
          <li>Click <strong>Download .yaml</strong> to download the yaml file with the customized specification or <strong>Save Spec</strong> to save the specification.</li>
        </ol>
      </li>
    </ul>
  </li>
</ul>
<blockquote>
  <p>By <strong>default</strong>, the system selects <strong>PX-StoreV2</strong> as the datastore.</p>
</blockquote>
<p>&nbsp; 6. Install the operator</p>
<ul>
  <li>If the Portworx Operator is installed but the OpenShift Console plugin is not enabled, or was previously disabled, you can re-enable it by running the following command.</li>
</ul>
<pre><code class="language-plaintext">oc patch console.operator cluster --type=json -p='[{"op":"add","path":"/spec/plugins/-","value":"portworx"}]'</code></pre>
<p>&nbsp;7.<strong>Create StorageCluster from the pervious step.</strong></p>
<p><strong>&nbsp;8. Verify the installation from the pervious sections ( installing on bare metal non air gapped)</strong></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
