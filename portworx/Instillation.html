<!--
title: Instillation Environments
description: 
published: true
date: 2025-11-28T17:55:18.196Z
tags: 
editor: ckeditor
dateCreated: 2025-11-23T13:59:33.710Z
-->

<h1>Common commands</h1>
<pre><code class="language-plaintext">echo "alias pxctl='PX_POD=\$(oc get pods -l name=portworx -n portworx --field-selector=status.phase==Running | grep \"1/1\" | awk \"NR==1{print \$1}\") &amp;&amp; oc exec \$PX_POD -n portworx -- /opt/pwx/bin/pxctl'" &gt;&gt; ~/.bashrc

or kubectl  exec -it svc/portworx-service to excute the pxctl command ...

source ~/.bashrc

pxctl status --color</code></pre>
<blockquote>
  <p>Portworx by Pure Storage<mark class="marker-yellow"> recommends upgrading the Portworx version prior to upgrading your OpenShift version. </mark><a href="https://docs.portworx.com/portworx-enterprise/support-matrix/operator-openshift-upgrade-path#portworx-350"><mark class="marker-yellow">url here</mark></a></p>
</blockquote>
<h1><strong>System Requirements</strong></h1>
<ul>
  <li>A Portworx cluster must include <mark class="marker-yellow">at least three nodes</mark>, each meeting specific hardware, software, and network requirements.</li>
  <li><strong>Hardware requirements</strong></li>
</ul>
<figure class="table">
  <table style="background-color:rgb(27, 27, 29);">
    <tbody>
      <tr>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Hardware</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Requirements</strong></th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">CPU</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Minimum 8 Cores | Recommended 16 Cores X1/2 for PX-storeV1</th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">RAM</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Minimum 8 GB | Recommended 16GB X1/2 for PX-storeV1</th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Disk</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">
          <ul>
            <li><code>/var</code> - Recommended 20GB Free</li>
            <li><code>/opt</code> - Minimum 20GB Free</li>
          </ul>
        </th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Backing drive</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">8GB (minimum required)<br>128GB (minimum recommended)</th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Operating system root partition</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">
          <p>64GB is the minimum required size for the root filesystem, which contains the operating system.</p>
          <p>128GB minimum recommended</p>
        </th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Storage drives</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><mark class="marker-yellow">Storage drives must be unmounted block storage</mark>: raw disks, drive partitions, LVM, or cloud block storage.</th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Network connectivity</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">
          <p>Bandwidth:</p>
          <ul>
            <li>10 Gbps recommended</li>
            <li>1 Gbps minimum</li>
          </ul>
          <p>Latency requirements for synchronous replication:<mark class="marker-yellow"> less than 10ms between nodes in the cluster.</mark></p>
          <p>&nbsp;</p>
        </th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Node type</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Bare metal and virtual machine (VM)</th>
      </tr>
    </tbody>
  </table>
</figure>
<ul>
  <li><strong>Software requirements:</strong>
    <ul>
      <li>a supported Linux kernel version, container runtime, and key-value store configuration.</li>
      <li>Swap disabled and NTP enabled, to ensure reliable and consistent cluster behavior.</li>
    </ul>
  </li>
</ul>
<figure class="table">
  <table style="background-color:rgb(27, 27, 29);">
    <tbody>
      <tr>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Software</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Requirements PX-StoreV2</strong></th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Linux kernel and distro</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">
          <p>Kernel version 4.20 or greater.<br>To check if your Linux distro and kernel are supported, see <a href="https://docs.portworx.com/portworx-enterprise/support-matrix/supported-kernels">Supported Kernels</a>.</p>
          <p>During installation, Porworx download <code>dmsetup</code>, <code>mdadm</code>, <code>lvm2</code>, <code>thin-provisioning-tools</code>, <code>augeas-tools</code> package from distribution specific repositories.</p>
          <blockquote>
            <p><code>mdadm</code> is a command-line utility for Linux that creates, manages, and monitors software RAID arrays, which combine multiple physical disks into a single logical unit</p>
          </blockquote>
          <blockquote>
            <p>Augeas is a configuration editing tool. It parses configuration files in their native formats and transforms them into a tree. Configuration changes are made by manipulating this tree and saving it back into native config files.</p>
          </blockquote>
        </th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Docker</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Version 1.13.1 or greater.</th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Key-value store</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx needs a key-value store to perform its operations. As such, install a clustered key-value database (<code>kvdb</code>) with a three-node cluster.<br><br>You can also use Internal KVDB during installation. In this mode, Portworx will create and manage an internal key-value store (KVDB) cluster.<br><br>If you plan to use your own KVDB, refer to <a href="https://docs.portworx.com/portworx-enterprise/operations/kvdb-for-portworx/external-kvdb">KVDB for Portworx</a> for details on recommendations for installing and configuring a KVDB cluster.</th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Disable swap</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Disable swap on all nodes that will run the Portworx software. Ensure that the swap device is not automatically mounted on server reboot.</th>
      </tr>
      <tr>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Network Time Protocol (NTP)</th>
        <th style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">All nodes in the cluster should be in sync with NTP time. Any time drift between nodes can cause unexpected behavior, impacting services.</th>
      </tr>
    </tbody>
  </table>
</figure>
<ul>
  <li><strong>Red Hat OpenShift:</strong>
    <ul>
      <li><strong>OpenShift version:</strong> 4.16, verified up to 4.16.50, <strong>Kubernetes version:</strong> 1.29</li>
      <li><strong>OpenShift version:</strong> 4.17, verified up to 4.17.41, <strong>Kubernetes version:</strong> 1.30</li>
      <li><strong>OpenShift version:</strong> 4.18, verified up to 4.18.27, <strong>Kubernetes version:</strong> 1.31.13</li>
      <li><strong>OpenShift version:</strong> 4.19, verified up to 4.19.17, <strong>Kubernetes version:</strong> 1.32.9</li>
      <li><strong>OpenShift version:</strong> 4.20, verified up to 4.20.1, <strong>Kubernetes version:</strong> 1.33.5</li>
    </ul>
  </li>
</ul>
<h2><strong>Network requirements</strong></h2>
<ul>
  <li>Portworx runs as a pod in a Kubernetes cluster and requires specific ports to be open for node communication, storage operations, and telemetry. These vary slightly between Kubernetes and OpenShift environments.</li>
</ul>
<h3><strong>East-to-West (Bi-directional in the same domain)</strong></h3>
<figure class="table">
  <table style="background-color:rgb(27, 27, 29);">
    <thead>
      <tr>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>OpenShift</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Description</strong></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17001</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx management port [REST]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17002</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx node-to-node port [gossip]/UDP<br><strong>Required</strong> open when using external KVDB</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17003</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx storage data port</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17004</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx namespace [RPC]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17009</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx node-to-node communication port [gRPC]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17010</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx namespace driver [gRPC]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17011</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx diags server port [gRPC]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17015</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx kvdb peer-to-peer port [gRPC]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17016</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx kvdb client service [gRPC]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17017</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx gRPC SDK server [REST]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17018</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx gRPC SDK gateway [REST]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17019</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx health monitor [REST]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17021</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Telemetry log uploader</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">20002</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Telemetry phone home</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><s>2379</s></td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><s>External KVDB (etcd) port</s><br><s><strong>Open only if</strong> you run an external etcd cluster</s></td>
      </tr>
    </tbody>
  </table>
</figure>
<h3><strong>Inbound</strong></h3>
<figure class="table">
  <table style="background-color:rgb(27, 27, 29);">
    <thead>
      <tr>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Kubernetes</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>OpenShift</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Description</strong></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">9001</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17001</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx management port [REST]</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">9021</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">17018</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx gRPC SDK gateway [REST]</td>
      </tr>
    </tbody>
  </table>
</figure>
<h3><strong>Outbound</strong></h3>
<figure class="table">
  <table style="background-color:rgb(27, 27, 29);">
    <thead>
      <tr>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Type</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>TCP Port(s)</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Scope</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Destination host(s)</strong></th>
        <th style="background-color:rgba(0, 0, 0, 0);border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;"><strong>Description</strong></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Install / Upgrade</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">443</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">PX install &amp; version updates</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">install.portworx.com</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Retrieves install spec and helper scripts</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;" rowspan="2">License activation</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">443</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">PAYG licensing</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">rest.zuora.com</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Usage reporting &amp; license retrieval. Not applicable for air-gapped deployements.</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">443</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">PAYG licensing</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">flex1327.compliance.flexnetoperations.com</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">For licensing to work. Not applicable for air-gapped deployements.</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;" rowspan="6">Telemetry</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">443</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Cluster registration &amp; metrics</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">register.cloud-support.purestorage.com,<br>rest.cloud-support.purestorage.com</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Registers cluster and uploads usage metrics</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">443 / 80</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Event log uploads</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">logs-01.loggly.com</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Sends PX log events for support</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">9024</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx version 2.13.7 and older</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Telemetry components</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Telemetry data channel</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">9029</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Portworx version 2.13.8 and newer</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Telemetry components</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Telemetry data channel</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">12001</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Collector service</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Telemetry components</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Aggregates data before upload</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">12002</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Heartbeat / phone-home</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Telemetry components</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Periodic health-check pings</td>
      </tr>
      <tr>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Snapshots / Backups</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">443</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">CloudSnaps, backups, restores</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Your S3 or S3-compatible endpoint</td>
        <td style="border-bottom:0.8px solid rgb(96, 103, 112);border-left:0.8px solid rgb(96, 103, 112);border-right:0.8px solid rgb(96, 103, 112);border-top:0.8px solid rgb(96, 103, 112);padding:12px;">Persist snapshots &amp; object data</td>
      </tr>
    </tbody>
  </table>
</figure>
<h2><strong>Installation on VMware vSphere</strong></h2>
<ul>
  <li>Notes:<ul>
      <li>Portworx runs on each Kubernetes<mark class="marker-yellow"> minion/worker.</mark></li>
      <li>Based on the given spec by the end user, <mark class="marker-yellow">Portworx on each node will create its disk on the configured shared datastores or datastore clusters.</mark></li>
      <li>Portworx will <mark class="marker-yellow">aggregate all of the disks and form a single storage cluster. </mark>End users can carve PVCs (Persistent Volume Claims), PVs (Persistent Volumes) and Snapshots from this storage cluster.</li>
      <li>Portworx<mark class="marker-yellow"> tracks and manages the disks that it creates</mark>. In a failure event, if a new VM spins up, Portworx on the new VM will be able to attach to the same disk that was previously created by the node on the failed VM.</li>
    </ul>
  </li>
</ul>
<figure class="image image_resized" style="width:100%;"><img src="/pks-vsphere-shared-1325efc1c1d548f5ab045886f9c5bc4b.png"></figure>
<h3><strong>Prerequisites</strong></h3>
<ol>
  <li>Use one of the following<mark class="marker-yellow"> disk types:</mark>
    <ul>
      <li>eagerzeroedthick</li>
      <li>lazyzeroedthick</li>
      <li>thin</li>
    </ul>
  </li>
  <li>Allocate<mark class="marker-yellow"> a dedicated disk for KVDB</mark> (internal or external) on<mark class="marker-yellow"> at least three nodes</mark>. Each disk must have<mark class="marker-yellow"> a unique device name across all KVDB nodes.&nbsp;</mark></li>
  <li>Any underlying nodes used for Portworx in OCP have <mark class="marker-yellow">Secure Boot disabled.</mark></li>
  <li><a href="https://docs.redhat.com/en/documentation/openshift_container_platform/4.18/html/registry/securing-exposing-registry">For air-gapped installation, your OpenShift cluster must temporarily have its internal registry reachable externally to the cluster</a></li>
  <li>For air-gapped installation, you must have a Linux host with internet access that has either <a href="https://docs.podman.io/">Podman</a> or Docker installed to run the mirroring script.</li>
</ol>
<blockquote>
  <p><strong>Prevent Accidental Deletion</strong>: If your virtualization software has a feature to prevent accidental deletion, you should enable it for the VMs hosting PX nodes. While PX is designed to handle the loss of some nodes without issue, losing a significant number of storage nodes due to VM deletion can result in a loss of quorum and an outage.</p>
</blockquote>
<h3><strong>Installation on Non-Air-Gapped vSphere OpenShift Cluster</strong></h3>
<ol>
  <li><strong>Create a Monitoring ConfigMap:</strong></li>
</ol>
<ul>
  <li>Enable monitoring for user-defined projects before installing the Portworx Operator</li>
</ul>
<pre><code class="language-plaintext">kind: ConfigMap
metadata:
  name: cluster-monitoring-config
  namespace: openshift-monitoring
data:
  config.yaml: |
    enableUserWorkload: true</code></pre>
<p>&nbsp;2. fetch the Thanos host</p>
<pre><code class="language-plaintext">oc get route thanos-querier -n openshift-monitoring -o json | jq -r '.spec.host'</code></pre>
<p>3. This cloud be the configuration of the storageCluster:</p>
<pre><code class="language-plaintext">spec:
  monitoring:
    prometheus:
      enabled: false
      exportMetrics: true
      alertManager:
        enabled: false</code></pre>
<p>&nbsp;</p>
<blockquote>
  <p>This creates a <code>prometheus-operated</code> service in the <code>openshift-user-workload-monitoring</code> namespace.</p>
</blockquote>
<p>&nbsp; &nbsp;2. <strong>Configure Storage DRS settings:</strong></p>
<ul>
  <li>Portworx does not support moving VMDK files from the datastores where they were originally created.<ul>
      <li>From the <strong>Storage DRS automation</strong> tab, choose the <strong>No Automation (Manual Mode)</strong> option for all</li>
      <li>From the <strong>Runtime Settings</strong> tab, clear the <strong>Enable I/O metric for SDRS recommendations</strong> checkbox.</li>
      <li>From the <strong>Advanced options</strong> tab, clear the <strong>Keep VMDKs together by default</strong> checkbox.</li>
    </ul>
  </li>
</ul>
<p>&nbsp; 3. <strong>Create a vCenter user account for Portworx:</strong></p>
<ul>
  <li>Datastore<ul>
      <li>Allocate space</li>
      <li>Browse datastore</li>
      <li>Low level file operations</li>
      <li>Remove file</li>
    </ul>
  </li>
  <li>Host<ul>
      <li>Local operations</li>
      <li>Reconfigure virtual machine</li>
      <li>Virtual machine</li>
    </ul>
  </li>
  <li>Change Configuration<ul>
      <li>Add existing disk</li>
      <li>Add new disk</li>
      <li>Add or remove device</li>
      <li>Advanced configuration</li>
      <li>Change Settings</li>
      <li>Extend virtual disk</li>
      <li>Modify device settings</li>
      <li>Remove disk</li>
    </ul>
  </li>
</ul>
<blockquote>
  <p>In vSphere, resources are organized hierarchically. Select<mark class="marker-yellow"> <strong>Propagate to children</strong></mark> to ensure that the permissions granted to the custom role are automatically applied not just to the targeted object, but also to all objects within its sub-tree. This includes VMs, datastores, networks, and other resources nested under the selected resource.</p>
</blockquote>
<p>&nbsp; 4. <strong>Create a secret with your vCenter user credentials:</strong></p>
<pre><code class="language-plaintext">
VSPHERE_USER: echo '&lt;vcenter-server-user&gt;' | base64
VSPHERE_PASSWORD: echo '&lt;vcenter-server-password&gt;' | base64</code></pre>
<p>&nbsp;</p>
<pre><code class="language-plaintext">apiVersion: v1
kind: Secret
metadata:
  name: px-vsphere-secret
  namespace: &lt;px-namespace&gt;
type: Opaque
data:
  VSPHERE_USER: XXXX
  VSPHERE_PASSWORD: XXXX</code></pre>
<p>&nbsp;</p>
<blockquote>
  <p>üôÖ‚Äç‚ôÇÔ∏è Ensure that the ports 17001-17020 on worker nodes are reachable from the control plane node and other worker nodes.</p>
</blockquote>
<p>&nbsp; 5. &nbsp;<strong>Generate Portworx Specification @ </strong><a href="https://central.portworx.com/"><u>https://central.portworx.com/</u></a></p>
<ul>
  <li>Spec Customization:<ul>
      <li><strong>Basic tab:</strong>
        <ol>
          <li>To use an existing etcd cluster, do the following:<ol>
              <li>Select the <strong>Your etcd details</strong> option.</li>
              <li>In the field provided, enter the host name or IP and port number. For example, <code>http://test.com.net:1234</code>.<br>To add another etcd cluster, click the <strong>+</strong> icon.</li>
              <li>You can add up to three etcd clusters.</li>
              <li>Select one of the following authentication methods:<ul>
                  <li><strong>Disable HTTPS</strong> ‚Äì To use HTTP for etcd communication.</li>
                  <li><strong>Certificate Auth</strong> ‚Äì To use HTTPS with an SSL certificate.<br>For more information, see <a href="https://docs.portworx.com/portworx-enterprise/operations/kvdb-for-portworx/external-kvdb#secure-your-etcd-communication">Secure your etcd communication</a>.</li>
                  <li><strong>Password Auth</strong> ‚Äì To use HTTPS with username and password authentication.</li>
                </ul>
              </li>
            </ol>
          </li>
          <li>To use an internal Portworx-managed key-value store (kvdb), do the following:<ol>
              <li>Select the <strong>Built-in</strong> option.</li>
              <li>To enable TLS encrypted communication among KVDB nodes and between Portworx nodes and the KVDB cluster, select the <strong>Enable TLS for internal kvdb</strong> checkbox.</li>
              <li>If your cluster does not already have a cert-manager, select the <strong>Deploy Cert-Manager for TLS certificates</strong> checkbox.</li>
              <li>Select <strong>Next</strong>.</li>
            </ol>
          </li>
        </ol>
      </li>
      <li><strong>Storage tab:</strong>
        <ol>
          <li>To enable Portworx to provision drives using a specification, do the following:<ol>
              <li>Select the <strong>Create Using a Spec</strong> option.</li>
              <li><strong>Select PX-Store Version</strong>: (Optional) To designate <strong>PX-StoreV1</strong> as the datastore, select&nbsp;PX-StoreV1. By <strong>default</strong>, the system selects <strong>PX-StoreV2</strong> as the datastore.</li>
              <li>To add one or more storage drive types for Portworx to use, click <strong>+ Add Drive</strong> and select one of the following types of drives:<ul>
                  <li>Lazy-Zeroed Thick</li>
                  <li>Eager-Zeroed Thick</li>
                  <li>Thin</li>
                </ul>
              </li>
              <li>Configure the following fields for the drive:<ul>
                  <li><strong>Size (GB)</strong> - Specify the size of the drive in gigabytes.</li>
                  <li><strong>Action</strong> - Use the trash icon to remove a drive type from the configuration.</li>
                </ul>
              </li>
              <li>(Optional) To add more storage drives, click one of the following options based on the drive type:<ul>
                  <li><strong>+ Add Lazy-Zeroed Thick Drives</strong></li>
                  <li><strong>+ Add Eager-Zeroed Thick Drives</strong></li>
                  <li><strong>+ Add Thin Drives</strong></li>
                </ul>
              </li>
              <li><strong>Initial Storage Nodes (Optional)</strong>:&nbsp;Enter the number of storage nodes that need to be created across zones and node pools.</li>
              <li>From the <strong>Default IO Profile</strong> dropdown menu, select <strong>Auto</strong>.<br>This enables Portworx to automatically choose the best I/O profile based on detected workload patterns.</li>
              <li>From the <strong>Journal Device</strong> dropdown menu, select one of the following:<ul>
                  <li><strong>None</strong> ‚Äì To use the default journaling setting.</li>
                  <li><strong>Auto</strong> ‚Äì To automatically allocate journal devices.</li>
                  <li><strong>Custom</strong> ‚Äì To manually choose a volume type for the journal device.</li>
                </ul>
              </li>
            </ol>
          </li>
          <li>To enable Portworx to use all available, unused, and unmounted drives on the node, do the following:<ol>
              <li>Select the <strong>Consume Unused</strong> option.</li>
              <li>(Optional) To designate <strong>PX-StoreV1</strong> as the datastore, clear the&nbsp;<strong>PX-StoreV2</strong>&nbsp;checkbox. By default, the system selects <strong>PX-StoreV2</strong> as the datastore.</li>
              <li>For <strong>PX-StoreV2</strong>, in the <strong>Metadata Path</strong> field, enter a pre-provisioned path for storing the Portworx metadata.<br>The path must be at least 64 GB in size.</li>
              <li>From the <strong>Journal Device</strong> dropdown menu, select one of the following:<ul>
                  <li><strong>None</strong> ‚Äì To use the default journaling setting.</li>
                  <li><strong>Auto</strong> ‚Äì To automatically allocate journal devices.</li>
                  <li><strong>Custom</strong> ‚Äì To manually enter a journal device path.<br>Enter the path of the journal device in the <strong>Journal Device Path</strong> field.</li>
                </ul>
              </li>
              <li>Select the <strong>Use unmounted disks even if they have a partition or filesystem on it. Portworx will never use a drive or partition that is mounted</strong> checkbox to use unmounted disks, even if they contain a partition or filesystem.<br>Portworx will not use any mounted drive or partition.</li>
            </ol>
          </li>
          <li><mark class="marker-yellow">To enable Portworx to use existing drives on a node, do the following:</mark>
            <ol>
              <li>Select the <strong>Use Existing Drives</strong> option.</li>
              <li>(Optional) To designate <strong>PX-StoreV1</strong> as the datastore, clear the&nbsp;<strong>PX-StoreV2</strong>&nbsp;checkbox. By default, the system selects <strong>PX-StoreV2</strong> as the datastore.</li>
              <li>For <strong>PX-StoreV2</strong>, in the <strong>Metadata Path</strong> field, enter a pre-provisioned path for storing the Portworx metadata.<br>The path must be at least 64 GB in size.</li>
              <li>In the <strong>Drive/Device</strong> field, specify the block drive(s) that Portworx uses for data storage.<br>To add another block drive, click the <strong>+</strong> icon.</li>
              <li>(Optional) In the <strong>Pool Label</strong> field, assign a custom label in key:value format to identify and categorize storage pools.<br>For more information refer to <a href="https://docs.portworx.com/portworx-enterprise/how-to-guides/custom-pool-label">How to assign custom labels to device pools</a>.</li>
              <li>From the <strong>Journal Device</strong> dropdown menu, select one of the following:<ul>
                  <li><strong>None</strong> ‚Äì To use the default journaling setting.</li>
                  <li><strong>Auto</strong> ‚Äì To automatically allocate journal devices.</li>
                  <li><strong>Custom</strong> ‚Äì To manually enter a journal device path.<br>Enter the path of the journal device in the <strong>Journal Device Path</strong> field.</li>
                </ul>
              </li>
            </ol>
          </li>
          <li>Select <strong>Next</strong>.</li>
        </ol>
      </li>
      <li><strong>Network tab:</strong>
        <ol>
          <li>In the <strong>Interface(s)</strong> section, do the following:<ol>
              <li>Enter the <strong>Data Network Interface</strong> to be used for data traffic.</li>
              <li>Enter the <strong>Management Network Interface</strong> to be used for management traffic.</li>
            </ol>
          </li>
          <li>In the <strong>Advanced Settings</strong> section, do the following:<ol>
              <li>Enter the <strong>Starting port for Portworx services</strong>.</li>
            </ol>
          </li>
          <li>Select <strong>Next</strong>.</li>
        </ol>
      </li>
      <li><strong>Deployment tab:</strong>
        <ol>
          <li>In the <strong>Kubernetes Distribution</strong> section, under <strong>Are you running on either of these?</strong>, select <strong>Openshift 4+</strong>.</li>
          <li>In the <strong>Component Settings</strong> section:<ol>
              <li>Select the <strong>Enable Stork</strong> checkbox to enable Stork.</li>
              <li>Select the <strong>Enable Monitoring</strong> checkbox to enable Prometheus-based monitoring of Portworx components and resources.</li>
              <li>To configure how Prometheus is deployed and managed in your cluster, choose one of the following:<ul>
                  <li><strong>Portworx Managed</strong> - To enable Portworx to install and manage Prometheus and Operator automatically.<br>Ensure that no another Prometheus Operator instance already running on the cluster.</li>
                  <li><strong>User Managed</strong> - To manage your own Prometheus stack.<br>You must enter a valid URL of the Prometheus instance in the <strong>Prometheus URL</strong> field.</li>
                </ul>
              </li>
              <li>Select the <strong>Enable Autopilot</strong> checkbox to enable Portworx Autopilot.</li>
              <li>Select the <strong>Enable Telemetry</strong> checkbox to enable telemetry in the StorageCluster spec.</li>
              <li>Enter the prefix for the Portworx cluster name in the <strong>Cluster Name Prefix</strong> field.</li>
              <li>Select the <strong>Secrets Store Type</strong> from the dropdown menu to store and manage secure information for features such as CloudSnaps and Encryption.</li>
            </ol>
          </li>
          <li>In the <strong>Environment Variables</strong> section, enter name-value pairs in the respective fields.</li>
          <li>In the <strong>Registry and Image Settings</strong> section:<ol>
              <li>Enter the <strong>Custom Container Registry Location</strong> to download the Docker images.</li>
              <li>Enter the <strong>Kubernetes Docker Registry Secret</strong> that serves as the authentication to access the custom container registry.</li>
              <li>From the <strong>Image Pull Policy</strong> dropdown menu, select <strong>Default</strong>, <strong>Always</strong>, <strong>IfNotPresent</strong>, or <strong>Never</strong>.<br>This policy influences how images are managed on the node and when updates are applied.</li>
            </ol>
          </li>
          <li>In the <strong>Security Settings</strong> section, select the <strong>Enable Authorization</strong> checkbox to enable Role-Based Access Control (RBAC) and secure access to storage resources in your cluster.</li>
          <li>Click <strong>Finish</strong>.</li>
          <li>In the summary page, enter a name for the specification in the <strong>Spec Name</strong> field, and tags in the <strong>Spec Tags</strong> field.</li>
          <li>Click <strong>Download .yaml</strong> to download the yaml file with the customized specification or <strong>Save Spec</strong> to save the specification.</li>
        </ol>
      </li>
    </ul>
  </li>
</ul>
<blockquote>
  <p>By <strong>default</strong>, the system selects <strong>PX-StoreV2</strong> as the datastore.</p>
</blockquote>
<p>&nbsp; 6. Install the operator</p>
<ul>
  <li>If the Portworx Operator is installed but the OpenShift Console plugin is not enabled, or was previously disabled, you can re-enable it by running the following command.</li>
</ul>
<pre><code class="language-plaintext">oc patch console.operator cluster --type=json -p='[{"op":"add","path":"/spec/plugins/-","value":"portworx"}]'</code></pre>
<p>&nbsp;7.<strong>Create StorageCluster from the pervious step.</strong></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
