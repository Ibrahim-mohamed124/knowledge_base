<!--
title: Egyptian Banks POC
description: 24-11-2025 With Gemy
published: true
date: 2025-11-24T16:54:49.462Z
tags: implementation, portworx, instillation
editor: ckeditor
dateCreated: 2025-11-24T08:29:19.129Z
-->

<ul>
  <li>What are the services for portworx in each worker node??? portworx-ostree.service and portworx-reboot.service<ul>
      <li>These two services exist to ensure graceful termination of the porworx pods in case of system updates or rebooting</li>
    </ul>
  </li>
  <li>portworx-ostree.service:</li>
</ul>
<pre><code class="language-plaintext">[Unit]
Description=PX Ostree Finalizer service
DefaultDependencies=no
After=ostree-finalize-staged.service
Requires=ostree-finalize-staged.service

[Service]
Type=oneshot
RemainAfterExit=yes
ExecStop=/var/opt/pwx/bin/px-runc stop-px-set-pxd-timeout 30

[Install]
WantedBy=ostree-finalize-staged.service
</code></pre>
<ul>
  <li>portworx-reboot.service:</li>
</ul>
<pre><code class="language-plaintext">[Unit]
Description=PX OCI Reboot service
DefaultDependencies=no
Before=systemd-reboot.service

[Service]
Type=forking
ExecStart=/bin/sh -c 'echo "Shutting down Portworx..."; /var/opt/pwx/bin/runc delete -f portworx; echo "Done shutting down Portworx..."; /var/opt/pwx/bin/px-runc set-pxd-timeout 30'

[Install]
WantedBy=halt.target reboot.target shutdown.target
</code></pre>
<ul>
  <li>what are the files in /opt/pwx and /etc/pwx<ul>
      <li>These paths include the pxctl binary, environment var file, and other configuration files:</li>
    </ul>
  </li>
</ul>
<p>/opt/pwx or /var/opt/pwx</p>
<pre><code class="language-plaintext">drwx------. 4 root root 53 Nov  2 14:25 oci
drwxr-x---. 2 root root 65 Nov  2 14:25 bin
drwxr-xr-x. 3 root root 28 Aug  7 15:41 ..
drwxr-xr-x. 4 root root 28 Nov  2 14:25 .
</code></pre>
<p>/etc/pwx</p>
<pre><code class="language-plaintext">ls -al
total 40
drwx------.   3 root root  153 Nov  2 14:25 .
drwxr-xr-x. 107 root root 8192 Nov 14 19:43 ..
drwx------.   2 root root   73 Nov  2 14:26 .lic
-rw-------.   1 root root  266 Aug  7 17:36 .private.json
-rw-------.   1 root root   37 Oct 26 10:10 .px_fspatch
-rw-r--r--.   1 root root 1392 Sep 14 08:35 ccm.properties
-r--r--r--.   1 root root   36 Aug  7 17:36 cluster_uuid
-rw-------.   1 root root  638 Nov  2 14:25 config.json
-rw-r--r--.   1 root root  249 Aug  7 17:36 lttng.config
-rw-------.   1 root root  130 Nov  2 14:25 px_env
</code></pre>
<ul>
  <li>proxy configurations? in openshift.</li>
  <li>when deleting the opertor delete the crd manually? edit something in the labels operation..</li>
  <li>instillation resource annotations in the storage cluster.</li>
  <li>the configmap on the kube-system??</li>
  <li>storage classes rbd?? rgw?? what are these</li>
  <li>POC:<ul>
      <li>postgresql installation and stress test between the odf and portworx</li>
      <li>&nbsp;</li>
    </ul>
  </li>
</ul>
