<!--
title: Cluster-mesh
description: 
published: true
date: 2025-12-26T20:42:57.191Z
tags: 
editor: ckeditor
dateCreated: 2025-12-26T12:17:46.508Z
-->

<h1>Cluster-mesh</h1>
<ul>
  <li>cluster-mesh enable network connectivity between different k8s clusters, and handle load balancing and security between them</li>
  <li>All the pods in the cluster can talk to each other without any extra configs</li>
  <li>Can load balance traffic to applications across clusters</li>
  <li>cilium cluster policy can control the traffic between clusters</li>
  <li>Prerequists:<ul>
      <li>all the cluster must match in the data path mode (encapsulation or native)</li>
      <li>Non-overlapping pod CIDRS between clusters</li>
      <li>full node to node connectivity</li>
      <li>each cluster has a special name and id</li>
    </ul>
  </li>
</ul>
<pre><code class="language-plaintext">cilium clustermesh enalbe --context $cluster  --serivce-type=LoadBalancer</code></pre>
<p>&nbsp;</p>
<pre><code class="language-plaintext">cilium clustermesh connect  --context $cluster1 --destination-context $cluster2 &gt; on one of the clusters </code></pre>
<pre><code class="language-plaintext">cilium clustermesh status</code></pre>
<h3>KVStoreMesh</h3>
<ul>
  <li>reduce the load on etcd</li>
</ul>
<figure class="image"><img src="/captssssssssssure.png"></figure>
<h4>Global Services</h4>
<ul>
  <li>Inter cluster load balancing&nbsp;</li>
  <li>The same svc must be configured in the two clusters in the same namespace and name</li>
  <li>add this annotation to both</li>
</ul>
<pre><code class="language-plaintext">service.cilium.io/global: true</code></pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
