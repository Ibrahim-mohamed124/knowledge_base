<!--
title: Concepts
description: 
published: true
date: 2025-12-29T10:59:18.040Z
tags: 
editor: ckeditor
dateCreated: 2025-12-29T09:23:18.217Z
-->

<h1>What is GitOps</h1>
<ul>
  <li>Without GitOps operations that done manually in clusters will lead to a configuration drift, which could lead to down time in the service.</li>
  <li>GitOps is a framework where the entire code deliver process is controlled by git allowing to do rollbacks, operations, and releases seamlessly</li>
  <li>It extends the IaCs to use Git as a control system with the source code of the applications</li>
  <li>GitOps operator like ArgoCD continuously compare the actual state to the state exist in Git</li>
</ul>
<h4>Principles&nbsp;</h4>
<ol>
  <li>Declarative vs imperative.</li>
  <li>Git as source of the truth</li>
  <li>Software agents (GitOps operators) pull the state from Git and apply it to the target platform</li>
  <li>Reconciliation loops for self-healing (observe-diff-act)</li>
</ol>
<h4>DevOps vs GitOps</h4>
<ul>
  <li>DevOps works with any application, but GitOps works best with containerized applications. DevOps push the changes to the target platform unlike the GitOps operator that usually &nbsp;pulls the state.</li>
  <li>GitOps usually has two repos &nbsp;one for source code and another for the IaC files.&nbsp;</li>
  <li>The DevOps pipeline will build the container image, pulls the manifests from the IaC repo, and then it modified the manifests with the tag of the created image and push the modified files to the Iac repo.</li>
  <li>The GitOps operator will pull the state from the IaC repo and apply them to the target platform.&nbsp;</li>
</ul>
<figure class="image"><img src="/argo.png"></figure>
<ul>
  <li>challenges with secret management</li>
</ul>
<h4>Well known tools</h4>
<ul>
  <li>ArgoCD</li>
  <li>FluxCD</li>
  <li>Atlantis for terraform</li>
  <li>Helm operator</li>
  <li>ignite for vitraul machines management</li>
</ul>
<h1>ArgoCD</h1>
<ul>
  <li>It works with kustomize, Helm charts, ksonnet applications, Jsonnet files, Yaml / Json manfiests</li>
  <li>Integrates with SSO solutions</li>
  <li>Audit trails for application events and API calls</li>
  <li>WebHook integration with Git servers&nbsp;</li>
  <li>Detect configuration drift&nbsp;</li>
  <li>Prometheus metrics&nbsp;</li>
  <li>expose gRPC REST APIs</li>
</ul>
<figure class="image"><img src="/archee.png"></figure>
<h4>Terminology</h4>
<ul>
  <li>Applications: is a crd that create when ArgoCd is deployed, and groups some kubernetes resources defined by a manifest&nbsp;</li>
  <li>Application source type: The tool that is used to build the applications (helm, kustomize…)</li>
  <li>Project: logical grouping of applications</li>
  <li>States:<ul>
      <li>Target state: &nbsp;the desired state</li>
      <li>Live state: &nbsp;the actual one</li>
    </ul>
  </li>
  <li>Sync terms:<ul>
      <li>sync status: Does the target state matches the live state?</li>
      <li>sync: the process of making an application move to its target state</li>
      <li>sync operation status: &nbsp;whether the sync succeeded or not</li>
    </ul>
  </li>
  <li>Refresh: compares the target with the live</li>
  <li>Health: &nbsp;the application is up and running?</li>
</ul>
<h3>Installation options</h3>
<ol>
  <li>core: &nbsp;minimal installation no api-server and UI</li>
  <li>Multi-Tenant:<ol>
      <li>HA: &nbsp;for Production, ha/install.yaml and ha/namespace-install.yaml</li>
      <li>Non HA: &nbsp;for POC, install.yaml cluster admin access and namespace-install.yaml for access to only one namespace.</li>
    </ol>
  </li>
</ol>
<h3>Installation</h3>
<ul>
  <li><a href="https://github.com/argoproj/argo-cd/releases">Releases · argoproj/argo-cd · GitHub</a></li>
</ul>
<pre><code class="language-plaintext">kubectl create namespace argocd
kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/v3.2.3/manifests/install.yaml</code></pre>
<ul>
  <li>install the argocd cli from the assets section in the release page</li>
  <li>the initial admin secret is saved in a secret called <mark class="marker-yellow">argocd-initial-admin-secret</mark></li>
</ul>
<h4>Apps and projects</h4>
<ul>
  <li>Application is a crd that define<ul>
      <li>source: repoURL, targetRevision, Path</li>
      <li>destination: target cluster, namespace&nbsp;</li>
      <li>project names it belongs to&nbsp;</li>
      <li>sync policy</li>
      <li>ignore diff&nbsp;</li>
    </ul>
  </li>
</ul>
<pre><code class="language-plaintext">apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
 name: guestbook
 namespace: argocd
spec:
 project: default
 source:
   repoURL: https://github.com/argoproj/argocd-example-apps.git
   targetRevision: HEAD
   path: guestbook
 destination:
   server: https://kubernetes.default.svc
   namespace: guestbook</code></pre>
<ul>
  <li>argocd create k8s secrets with git server credentials&nbsp;</li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
