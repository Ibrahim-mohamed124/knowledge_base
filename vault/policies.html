<!--
title: policies
description: 
published: true
date: 2025-10-14T17:07:28.416Z
tags: vault, authorization, policies
editor: ckeditor
dateCreated: 2025-10-14T17:07:21.727Z
-->

<h1>Policies</h1>
<ol>
  <li>RBAC</li>
  <li>written in json or HCL</li>
  <li>implicit deny</li>
  <li>explicit deny takes precedence over anything else</li>
  <li>one token could have one or more policies &gt; additive capabilities &nbsp;</li>
  <li>Root policy is attached to the root token and cannot be deleted</li>
  <li>Default policy is attached to all new non-root token, can be modified but cannot be deleted</li>
</ol>
<pre><code class="language-plaintext">$ vault policy [list|delete|fmt|read|write] [policy_name] /path to hcl or json file</code></pre>
<h2>Anatomy of policies</h2>
<p>Roles:</p>
<ol>
  <li>path<ol>
      <li>ex sys/policies</li>
      <li>ex aws/creds/web-app</li>
      <li>glob&nbsp;<i> &gt; anything /\ /test-\*&nbsp;</i></li>
      <li><i>+ single directory in the path /*/</i></li>
      <li><i>ACL templating: using variables replacement {{parameter.subparameter}} &nbsp;ex identity.entity.id</i></li>
    </ol>
  </li>
</ol>
<figure class="image"><img src="/c1apture.png"></figure>
<ol>
  <li>capabilities &gt; list of create, update, delete, list, read, sudo, deny</li>
</ol>
<pre><code class="language-plaintext">path "" {
  capabilites = ["create","update"]
}</code></pre>
<p>∅ Root protected path needs root token or sudo capability to be altered</p>
<ul>
  <li>ex sys/step-down…</li>
</ul>
<p>&nbsp;</p>
<pre><code class="language-plaintext">$ vault token create -policy="name"</code></pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
